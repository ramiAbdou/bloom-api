table:
  name: communities
  schema: public
configuration:
  custom_column_names:
    created_at: createdAt
    default_type_id: defaultTypeId
    deleted_at: deletedAt
    highlighted_question_id: highlightedQuestionId
    knowledge_hub_url: knowledgeHubUrl
    logo_url: logoUrl
    primary_color: primaryColor
    updated_at: updatedAt
    url_name: urlName
  custom_root_fields:
    insert_one: createCommunity
    select: communities
    select_by_pk: community
    update_by_pk: updateCommunity
object_relationships:
  - name: application
    using:
      manual_configuration:
        column_mapping:
          id: community_id
        insertion_order: null
        remote_table:
          name: applications
          schema: public
  - name: highlightedQuestion
    using:
      foreign_key_constraint_on: highlighted_question_id
  - name: memberType
    using:
      foreign_key_constraint_on: default_type_id
array_relationships:
  - name: events
    using:
      foreign_key_constraint_on:
        column: community_id
        table:
          name: events
          schema: public
  - name: memberTypes
    using:
      foreign_key_constraint_on:
        column: community_id
        table:
          name: member_types
          schema: public
  - name: members
    using:
      foreign_key_constraint_on:
        column: community_id
        table:
          name: members
          schema: public
  - name: questions
    using:
      foreign_key_constraint_on:
        column: community_id
        table:
          name: questions
          schema: public
  - name: supporters
    using:
      foreign_key_constraint_on:
        column: community_id
        table:
          name: supporters
          schema: public

## SELECT PERMISSIONS

select_permissions:
  - permission:
      columns:
        - id
        - logo_url
        - name
        - primary_color
        - url_name
      filter: {}
    role: GUEST
  - permission:
      columns:
        - id
        - highlighted_question_id
        - logo_url
        - name
        - primary_color
        - url_name
      filter: {}
    role: MEMBER
  - permission:
      columns:
        - id
        - highlighted_question_id
        - logo_url
        - name
        - primary_color
        - url_name
      filter: {}
    role: ADMIN
  - permission:
      columns:
        - id
        - highlighted_question_id
        - logo_url
        - name
        - primary_color
        - url_name
      filter: {}
    role: OWNER
